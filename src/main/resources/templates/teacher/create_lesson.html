<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/static/layui/css/layui.css">
    <link rel="stylesheet" href="/static/css/global.css">
</head>
<body>
<div th:include="/common/header::header"></div>
<div class="layui-container fly-marginTop fly-user-main">
    <ul th:include="/common/teacher_menu::menu"
        class="layui-nav layui-nav-tree layui-inline" lay-filter="test"></ul>
    <div class="fly-panel fly-panel-user" pad20 >
        <!--
        <div class="fly-msg" style="margin-top: 15px;">
          您的邮箱尚未验证，这比较影响您的帐号安全，<a href="activate.html">立即去激活？</a>
        </div>
        -->
        <div id="lessonTitleDiv" style="text-align: center;display: none">
            <span id="lessonTitle" style="font-size: 2em">

            </span>
        </div>
        <div class="layui-tab layui-tab-brief" lay-filter="user"
             style="text-align: center">
            <div>
                <img src="/static/images/lesson.jpg"
                      style="width: 500px;height: 500px;margin-left: 200px">
            </div>
            <div id="buttonsDiv" style="display: none;text-align: center;margin-top: 10px">
                <a href="" class="layui-btn">开启签到</a>
                <a href="" class="layui-btn">开启答题</a>
                <a href="" class="layui-btn">下课</a>
            </div>
        </div>
    </div>
</div>
<script src="/static/layui/layui.js"></script>
<script src="/static/jquery-1.9.1.js"></script>
<script src="/static/common.js"></script>
<script>
    //layui表单生成
    layui.use(['layer'], function() {
        var layer = layui.layer;
        function createLesson()
        {
            var lessonName = prompt("请输入课程名");
            console.log(hasText(lessonName));
            if(!hasText(lessonName)){
                layer.confirm("课程名不能为空", {icon: 2},function (index) {
                    layer.close(index);
                    createLesson();
                });
                return;
            }
            $.get("/teacher/lesson/"+lessonName,function (data) {
                if (!data.success) {
                    layer.confirm(data.errorMsg, {icon: 2},function () {
                        createLesson();
                    });
                }
                else {
                    $("#buttonsDiv").css("display","block");
                    $("#lessonTitleDiv").css("display","block");
                    $("#lessonTitle").html(data.data.name);
                }
            });
        }
        createLesson();
    });






</script>
</body>
</html>